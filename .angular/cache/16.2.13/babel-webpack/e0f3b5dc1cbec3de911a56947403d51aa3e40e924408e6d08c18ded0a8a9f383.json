{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/zeina/angular-crud/demo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Remise } from '../remise';\nimport { map, switchMap } from 'rxjs/operators';\nimport { of } from 'rxjs';\nlet RemiseEditComponent = class RemiseEditComponent {\n  constructor(route, router, remiseService) {\n    this.route = route;\n    this.router = router;\n    this.remiseService = remiseService;\n    this.feedback = {};\n  }\n  ngOnInit() {\n    this.route.params.pipe(map(p => p['id']), switchMap(id => {\n      if (id === 'new') {\n        return of(new Remise());\n      }\n      return this.remiseService.findById(id);\n    })).subscribe({\n      next: remise => {\n        this.remise = remise;\n        this.feedback = {};\n      },\n      error: err => {\n        this.feedback = {\n          type: 'warning',\n          message: 'Error loading'\n        };\n      }\n    });\n  }\n  save() {\n    var _this = this;\n    console.log(this.remise);\n    this.remiseService.save(this.remise).subscribe({\n      next: remise => {\n        this.remise = remise;\n        this.feedback = {\n          type: 'success',\n          message: 'Save was successful!'\n        };\n        setTimeout( /*#__PURE__*/_asyncToGenerator(function* () {\n          yield _this.router.navigate(['/remises']);\n        }), 1000);\n      },\n      error: err => {\n        this.feedback = {\n          type: 'warning',\n          message: 'Error saving'\n        };\n      }\n    });\n  }\n  cancel() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      yield _this2.router.navigate(['/remises']);\n    })();\n  }\n};\nRemiseEditComponent = __decorate([Component({\n  selector: 'app-remise-edit',\n  templateUrl: './remise-edit.component.html'\n})], RemiseEditComponent);\nexport { RemiseEditComponent };","map":{"version":3,"names":["Component","Remise","map","switchMap","of","RemiseEditComponent","constructor","route","router","remiseService","feedback","ngOnInit","params","pipe","p","id","findById","subscribe","next","remise","error","err","type","message","save","_this","console","log","setTimeout","_asyncToGenerator","navigate","cancel","_this2","__decorate","selector","templateUrl"],"sources":["C:\\Users\\zeina\\angular-crud\\demo\\src\\app\\remise\\remise-edit\\remise-edit.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { RemiseService } from '../remise.service';\nimport { Remise } from '../remise';\nimport { map, switchMap } from 'rxjs/operators';\nimport { of } from 'rxjs';\n\n@Component({\n  selector: 'app-remise-edit',\n  templateUrl: './remise-edit.component.html'\n})\nexport class RemiseEditComponent implements OnInit {\n\n  id!: string;\n  remise!: Remise;\n  feedback: any = {};\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private remiseService: RemiseService) {\n  }\n\n  ngOnInit() {\n    this\n      .route\n      .params\n      .pipe(\n        map(p => p['id']),\n        switchMap(id => {\n          if (id === 'new') { return of(new Remise()); }\n          return this.remiseService.findById(id);\n        })\n      )\n      .subscribe({\n        next: remise => {\n          this.remise = remise;\n          this.feedback = {};\n        },\n        error: err => {\n          this.feedback = {type: 'warning', message: 'Error loading'};\n        }\n      });\n  }\n\n  save() {\n    console.log(this.remise);\n    this.remiseService.save(this.remise).subscribe({\n      \n      next: remise => {\n        this.remise = remise;\n      \n        this.feedback = {type: 'success', message: 'Save was successful!'};\n        setTimeout(async () => {\n          await this.router.navigate(['/remises']);\n        }, 1000);\n      },\n      error: err => {\n        this.feedback = {type: 'warning', message: 'Error saving'};\n      }\n    });\n  }\n\n  async cancel() {\n    await this.router.navigate(['/remises']);\n  }\n}\n"],"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAGjD,SAASC,MAAM,QAAQ,WAAW;AAClC,SAASC,GAAG,EAAEC,SAAS,QAAQ,gBAAgB;AAC/C,SAASC,EAAE,QAAQ,MAAM;AAMlB,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAM9BC,YACUC,KAAqB,EACrBC,MAAc,EACdC,aAA4B;IAF5B,KAAAF,KAAK,GAALA,KAAK;IACL,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,aAAa,GAAbA,aAAa;IALvB,KAAAC,QAAQ,GAAQ,EAAE;EAMlB;EAEAC,QAAQA,CAAA;IACN,IAAI,CACDJ,KAAK,CACLK,MAAM,CACNC,IAAI,CACHX,GAAG,CAACY,CAAC,IAAIA,CAAC,CAAC,IAAI,CAAC,CAAC,EACjBX,SAAS,CAACY,EAAE,IAAG;MACb,IAAIA,EAAE,KAAK,KAAK,EAAE;QAAE,OAAOX,EAAE,CAAC,IAAIH,MAAM,EAAE,CAAC;;MAC3C,OAAO,IAAI,CAACQ,aAAa,CAACO,QAAQ,CAACD,EAAE,CAAC;IACxC,CAAC,CAAC,CACH,CACAE,SAAS,CAAC;MACTC,IAAI,EAAEC,MAAM,IAAG;QACb,IAAI,CAACA,MAAM,GAAGA,MAAM;QACpB,IAAI,CAACT,QAAQ,GAAG,EAAE;MACpB,CAAC;MACDU,KAAK,EAAEC,GAAG,IAAG;QACX,IAAI,CAACX,QAAQ,GAAG;UAACY,IAAI,EAAE,SAAS;UAAEC,OAAO,EAAE;QAAe,CAAC;MAC7D;KACD,CAAC;EACN;EAEAC,IAAIA,CAAA;IAAA,IAAAC,KAAA;IACFC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,MAAM,CAAC;IACxB,IAAI,CAACV,aAAa,CAACe,IAAI,CAAC,IAAI,CAACL,MAAM,CAAC,CAACF,SAAS,CAAC;MAE7CC,IAAI,EAAEC,MAAM,IAAG;QACb,IAAI,CAACA,MAAM,GAAGA,MAAM;QAEpB,IAAI,CAACT,QAAQ,GAAG;UAACY,IAAI,EAAE,SAAS;UAAEC,OAAO,EAAE;QAAsB,CAAC;QAClEK,UAAU,eAAAC,iBAAA,CAAC,aAAW;UACpB,MAAMJ,KAAI,CAACjB,MAAM,CAACsB,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;QAC1C,CAAC,GAAE,IAAI,CAAC;MACV,CAAC;MACDV,KAAK,EAAEC,GAAG,IAAG;QACX,IAAI,CAACX,QAAQ,GAAG;UAACY,IAAI,EAAE,SAAS;UAAEC,OAAO,EAAE;QAAc,CAAC;MAC5D;KACD,CAAC;EACJ;EAEMQ,MAAMA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAH,iBAAA;MACV,MAAMG,MAAI,CAACxB,MAAM,CAACsB,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;IAAC;EAC3C;CACD;AAvDYzB,mBAAmB,GAAA4B,UAAA,EAJ/BjC,SAAS,CAAC;EACTkC,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE;CACd,CAAC,C,EACW9B,mBAAmB,CAuD/B;SAvDYA,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}